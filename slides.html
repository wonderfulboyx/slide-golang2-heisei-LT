<section>

<h1>ä»¤å’Œã®Go</h1>

</section>
<section>

<p><img src="images/icon.jpg" width="25%"></p>
<ul>
  <li>åå‰: ç‰‡æ —ç²‰ã¨ã‚ã¿</li>
  <li>twitter: <a href="https://twitter.com/wonderfulboy_x">@wonderfulboy_x</a>
</li>
  <li>blog: <a href="http://wonderfulboyx.hatenadiary.com/">ç‰‡æ —ç²‰ã¨ã‚ã¿</a>
</li>
  <li>æŠ€è¡“ã‚¹ã‚¿ãƒƒã‚¯
    <ul>
      <li>ã‚µãƒ¼ãƒãƒ¼: golang</li>
      <li>ãƒ•ãƒ­ãƒ³ãƒˆ: React/Redux</li>
    </ul>
  </li>
</ul>

</section>
<section>

<p>2019å¹´5æœˆ1æ—¥ãŒãªã‚“ã®æ—¥ã‹çŸ¥ã£ã¦ã„ã¾ã™ã‹ï¼Ÿ</p>

</section>
<section>

<p>Goãƒãƒ¼ãƒ ãŒGo2ã«è¿½åŠ ã™ã‚‹æ©Ÿèƒ½ã«ã¤ã„ã¦</p>

<p>æœ€çµ‚æ„å¿—æ±ºå®šã™ã‚‹æ—¥ã§ã™ï¼ï¼</p>

<p><img src="images/final-decision.png" alt=""></p>

<p><a href="https://blog.golang.org/go2-here-we-come">https://blog.golang.org/go2-here-we-come</a></p>

</section>
<section>

<h2>Goã®ã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°ãŒ<br>ä»¤å’Œã§å¤‰ã‚ã‚‹!!(ã‹ã‚‚)</h2>

<p>ã¾ã ãƒ‰ãƒ©ãƒ•ãƒˆã®è©±ã§ã™</p>

</section>
<section>

<h2>å¹³æˆ(Go1)ã¾ã§ã®ã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°</h2>

</section>
<section>

<p>2ã¤ã®æ–‡å­—åˆ—ã‚’Intã«å¤‰æ›ã—ã¦è¶³ã™ã‚³ãƒ¼ãƒ‰</p>

<pre><code class="language-go">func addStrAsInt(a, b string) (int, error) {
	x, _ := strconv.Atoi(a)
	y, _ := strconv.Atoi(b)
	return x + y, nil
}
</code></pre>

</section>
<section>

<p>ã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°ã—ã‚ˆã†ã¨ã™ã‚‹ã¨â€¦</p>

</section>
<section>

<pre><code class="language-go">func addStrAsInt(a, b string) (int, error) {
	x, err := strconv.Atoi(a)
	if err != nil {
		return 0, err
	}
	y, err := strconv.Atoi(b)
	if err != nil {
		return 0, err
	}
	return x + y, nil
}
</code></pre>

</section>
<section>

<p>åŠåˆ†ifæ–‡ã˜ã‚ƒã­ãˆã‹ï¼</p>

</section>
<section>

<p>ã„ã¡ã„ã¡ifæ–‡ã‚³ãƒ”ãƒšã™ã‚“ã®ã‹ã‚ˆï¼Ÿ</p>

</section>
<section>

<p>ã„ã‚ã„ã‚ãªã‚½ãƒªãƒ¥ãƒ¼ã‚·ãƒ§ãƒ³</p>

<p><img src="images/err-switch.gif" height="450px"></p>

<p><a href="https://imgur.com/gZUFqbc">https://imgur.com/gZUFqbc</a></p>

</section>
<section>

<h2>ãªã‚“ã§ã“ã†ãªã‚‹ã‹</h2>

</section>
<section>

<h3>Goã«ä¾‹å¤–æ©Ÿæ§‹ã¯ãªã„</h3>

<ul>
  <li>throw/try/catchã¿ãŸã„ãªä¾¿åˆ©ãªã‚‚ã®ã¯ãªã„
    <ul>
      <li>ã˜ã‚ƒã‚ã©ã†ã™ã‚‹ã‹<br>
    - ã‚¨ãƒ©ãƒ¼ã‚’returnã—ã¦å‡¦ç†ã—ã¦ã‚‚ã‚‰ã†<br>
    - <code>err</code>ãŒ<code>nil</code>ã‹ã©ã†ã‹ã§ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°ã™ã‚‹</li>
    </ul>
  </li>
</ul>

<pre><code class="language-go">x, err := strconv.Atoi(a)
if err != nil {
  return err
}
</code></pre>

</section>
<section>

<h3>ã„ã„ã¨ã“ã‚</h3>
<ul>
  <li>å¯èª­æ€§ãŒé«˜ã„=èª­ã‚ã°ä½•ã‚„ã£ã¦ã‚‹ã‹ã‚ã‹ã‚‹
    <ul>
      <li>æˆ»ã‚Šå€¤ã‚’è¦‹ã‚Œã°ã‚¨ãƒ©ãƒ¼ã®å¯èƒ½æ€§ãŒã‚ã‹ã‚‹</li>
      <li>ã‚¨ãƒ©ãƒ¼ã‚’ã©ã†ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°ã—ã¦ã‚‹ã‹æ˜ç¢º
        <ul>
          <li>ã©ã“ã§ãƒŸã‚¹ã£ãŸã‹ã‚ã‹ã‚Šã‚„ã™ã„</li>
          <li>ãƒ¬ãƒ“ãƒ¥ãƒ¼ã—ã¦ã¦èª­ã¿ã‚„ã™ã„</li>
        </ul>
      </li>
    </ul>
  </li>
</ul>

</section>
<section>

<h3>ã‚ˆããªã„ã¨ã“ã‚</h3>
<ul>
  <li>å†—é•·</li>
</ul>

</section>
<section>

<h2>ä»¤å’Œ(Go2)ã®ã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°</h2>

</section>
<section>

<p>Go2ã§ã¯<code>checkå¼</code> / <code>handleæ§‹æ–‡</code> ãŒå°å…¥ã•ã‚Œã¾ã™ï¼ï¼(å¤šåˆ†)</p>

</section>
<section>

<p>è¦‹ãŸç›®ã®æ¯”è¼ƒ</p>

</section>
<section>

<p>Go1</p>

<pre><code class="language-go">func addStrAsInt(a, b string) (int, error) {
	x, err := strconv.Atoi(a)
	if err != nil {
		return 0, err
	}
	y, err := strconv.Atoi(b)
	if err != nil {
		return 0, err
	}
	return x + y, nil
}
</code></pre>

</section>
<section>

<p>Go2</p>

<pre><code class="language-go">func addStrAsInt(a, b string) (int, error) {
	handle err { return 0, err }
	x := check strconv.Atoi(a)
	y := check strconv.Atoi(b)
	return x + y, nil
}
</code></pre>

</section>
<section>

<h2>ğŸ‰</h2>
<p>ã™ã”ã„!!ã‚ã¡ã‚ƒã‚¹ãƒƒã‚­ãƒªã—ã¦ã‚‹!!</p>

<pre><code class="language-go">func addStrAsInt(a, b string) (int, error) {
	handle err { return 0, err }
	x := check strconv.Atoi(a)
	y := check strconv.Atoi(b)
	return x + y, nil
}
</code></pre>

</section>
<section>

<h2>ã©ã†å‹•ãã®ã‹</h2>

<p>æœ«å°¾ã®errorãŒnilã‹ã©ã†ã‹åˆ¤å®šã—ã¦ãã‚Œã‚‹</p>

<ul>
  <li>ã“ã‚Œã ã‘ã§
    <pre><code class="language-go">handle err { return 0. err }
x := check strconv.Atoi(a)
</code></pre>
  </li>
  <li>ä»¥ä¸‹ã«ç›¸å½“ã™ã‚‹ã“ã¨ã‚’ã‚„ã£ã¦ãã‚Œã‚‹
    <pre><code class="language-go">x, err := strconv.Atoi(a)
if err != nil {
  return &lt;handleæ§‹æ–‡å†…ã®å‡¦ç†&gt;
}
</code></pre>
  </li>
</ul>

</section>
<section>

<p>ã‚‚ã—handleãŒè¤‡æ•°ã‚ã£ãŸã‚‰ï¼Ÿ</p>

<pre><code class="language-go">func process(user string, files chan string) (n int, err error) {
    handle err { return 0, fmt.Errorf("process: %v", err)  }      // handler A
    for i := 0; i &lt; 3; i++ {
        handle err { err = fmt.Errorf("attempt %d: %v", i, err) } // handler B
        handle err { err = moreWrapping(err) }                    // handler C

        check do(something())  // check 1: C, B, A ã®é †ã«handleãŒè©•ä¾¡ã•ã‚Œã‚‹
    }
    check do(somethingElse())  // check 2: Aã®handleãŒè©•ä¾¡ã•ã‚Œã‚‹
}
</code></pre>

</section>
<section>

<h2>ã•ã‚‰ã«å¬‰ã—ã„ã¨ã“ã‚</h2>

<p>checkã¯å¼ãªã®ã§è©•ä¾¡çµæœã‚’ç›´æ¥é–¢æ•°ã«æ¸¡ã›ã‚‹</p>

</section>
<section>

<p>ã“ã‚ŒãŒ</p>
<pre><code class="language-go">x, err := strconv.Atoi(a)
if err != nil {
	return 0, err
}
y, err := strconv.Atoi(b)
if err != nil {
	return 0, err
}
add(x, y) // intã‚’2ã¤ã¨ã‚‹é–¢æ•°


// ã“ã†ã¯æ›¸ã‘ãªã„ï¼ï¼
// add(strconv.Atoi(a), strconv.Atoi(b))
</code></pre>

</section>
<section>

<p>ã“ã†ãªã‚‹ï¼</p>
<pre><code class="language-go">handle err { return 0, err }
add(check strconv.Atoi(a), check strconv.Atoi(b))
</code></pre>

</section>
<section>

<p>ç°¡æ½”ï¼ï¼</p>

</section>
<section>

<p>ã¾ã¨ã‚</p>
<ul>
  <li>ç¤¼å’Œå…ƒå¹´5æœˆ1æ—¥ã¯Go2ã®æœ€çµ‚æ„æ€æ±ºå®šã®æ—¥</li>
  <li>ã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°ãŒç°¡æ½”ã«ãªã‚‹ã‹ã‚‚ï¼ï¼</li>
</ul>

</section>
